<div class="container cd-result-list-container">

  <ng-container *ngIf="!!result; else noResult">
    <mat-card class="my-4">
      <mat-card-content>
        <div class="d-flex justify-content-between align-items-center">
          <div class="">
            <p class="h5 m-0">{{ useCase.algorithm.viewValue }}</p>
          </div>
          <div class="">
            <div class="row align-items-center">
              <div class="d-flex align-items-center col-12">
                <div class="mr-1">
                  <button mat-icon-button>
                    <mat-icon>cloud</mat-icon>
                  </button>
                </div>
                <div class="ml-1">
                  <p class="h5 m-0">{{ bucketLocation }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <div class="row">
      <div class="col-sm-12">
        <div class="w-100 mat-elevation-z4 cd-table-holder">
          <mat-paginator [pageSizeOptions]="[5, 10, 25, 50]"
                         color="primary"
                         showFirstLastButtons></mat-paginator>
          <table mat-table
                 matSort
                 [dataSource]="dataSource"
                 class="w-100">

            <ng-container *ngFor="let _ of tableColumns; let index = index;">
              <ng-container [matColumnDef]="_.value"
                            *ngIf="index === 0; else nonStickyColumns;"
                            sticky>
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header>
                  <span class="cd-nowrap">{{ _.viewValue }}</span>
                </th>
                <td mat-cell
                    *matCellDef="let __">
                  <span class="mr-2">{{ __[_.value] }}</span>
                </td>
              </ng-container>
              <ng-template #nonStickyColumns>
                <ng-container [matColumnDef]="_.value">
                  <th mat-header-cell
                      *matHeaderCellDef
                      mat-sort-header>
                    <span class="cd-nowrap">{{ _.viewValue }}</span>
                  </th>
                  <td mat-cell
                      *matCellDef="let __">
                    <span class="mr-2">{{ __[_.value] }}</span>
                  </td>
                </ng-container>
              </ng-template>
            </ng-container>

            <ng-container matColumnDef="play"
                          stickyEnd>
              <th mat-header-cell
                  *matHeaderCellDef></th>
              <td mat-cell
                  *matCellDef="let _">
                <button mat-icon-button
                        color="primary"
                        (click)="playVideo(_)">
                  <mat-icon>play_circle_outline</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row
                *matHeaderRowDef="displayedColumns;"></tr>
            <tr mat-row
                *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </div>
    </div>
  </ng-container>

  <ng-template #noResult>
    <div class="row my-4">
      <div class="col-sm-12">
        <span class="h4">No Storage Bucket selected</span>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        Try starting over from <a mat-button
           color="primary"
           (click)="gotoBucketSelection()">here</a>
      </div>
    </div>
  </ng-template>
</div>
